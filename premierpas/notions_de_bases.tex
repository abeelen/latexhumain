\chapter[Mit XeLaTeX beginnen]{Mit \XeLaTeX{} beginnen}\label{commencer}

\begin{intro}
Wir nehmen an, dass Sie bereits \LaTeX\renvoi{install} und einen auf \LaTeX{} spezialisierten Texteditor\renvoi{logiciels} installiert haben. Siehe im Anhang.

Zunächst ist sicherzustellen, dass das Textverarbeitungsprogramm die Codiereung UTF-8 verwendet.\footnote{Die Einstellung findet sich in der Regel in den Programmeinstellungen, meist in der Rubrik \emph{Dateiformat} oder \emph{Zeichencodierung}: konsultieren Sie gegebenenfalls das Handbuch des Programms.} Wir werden später \renvoi{utf8} auf den Zweck einer solcher Codierung zurückkommen. Im Augenblick genügt es zu wissen, dass diese die Verwendung nicht-lateinischer Zeichen erlaubt.\footnote{Kyrillisch, Griechisch, Sanskrit, Hebräisch, etc. Auch die Verwendung außerirdischer Zeichen ist möglich.}
\end{intro}

\section{Ein erstes Dokument}

Geben Sie in Ihrem Editor den folgenden Code ein\footnote{Wie wir in der Einleitung erläutert haben (p.~\pageref{colorationsyntax}), hat die Kolorierung, die Sie hier sehen, wenn Sie die elektronische Version dieses Buches lesen, eine syntaktische Bedeutung. Machen Sie sich keine Sorgen, wenn sie in Ihrem Editor anders ist. Denken Sie außerdem nicht, dass Ihr kompilierter Text so aussehen wird.} und klicken Sie auf den Knopf zur Kompilation mit \XeLaTeX \footnote{Dessen Position hängt von Ihrem Texteditor ab. Im Moment können Sie sich mit diesem Knopf begnügen. Später werden Sie einige Befehle lernen müssen, doch machen Sie sich keine Sorgen. Alles wird zu erklärt.}:

\begin{attention}
Wenn Sie einen Mac verwenden, sind die für \LaTeX notwendigen Zeichen nicht auf Ihrer Tastatur sichtbar. Wir haben im Anhang angegeben, wie diese eingegeben werden können\renvoi{claviermac}.
\end{attention}
\inputminted{exemples/premierpas/notions/1.tex}

Betrachten Sie das erzeugte PDF. Um die Grundlagen von \LaTeX zu verstehen, werden wir nun zunächst den Code, den Sie kopiert haben, Zeile für Zeile lesen und kommentieren.

\section{Struktur eines \LaTeX-Dokuments}

\subsection{Die Dokumentenklasse}
Die erste Linie \csp{documentclass}\verb|[12pt,a4paper]{book}| bestimmt die Dokumentklasse, in diesem Fall \classe{book}. Eine Klasse beinhaltet eine editorische Entscheidung -- Layout und allgemeine Gliederung des Dokuments. Die Wahl der Klasse beeinflusst unter anderem:

\begin{itemize}
\item Die Anzahl der verfügbaren Überschriftsebenen.
\item Die Seitenränder.
\item Kopf- und Fußzeilen.
\end{itemize}

Es existieren standardmäßig mehrere Dokumentenklassen: etwa \classe{book}, mit der Bücher verfasst werden können; die \classe{article} eignet sich für Aufsätze; \classe{beamer} ist zur Erstellung von Präsentationen vorgesehen. Wir werden uns in dieser Einführung hauptsächlich mit den ersten beiden Klassen beschäftigen, \classe{beamer} aber auch kurz vorstellen\renvoi{beamer}.


Jedes \LaTeX-Dokument beginnt mit der Deklaration der Dokumentenklasse. Die Syntax lautet: \cs{documentclass}\oarg{Optionen}\marg{Klasse}.

\begin{attention}
In diesem Buch dienen Texte in spitzen Klammern (\arg{wie hier}) als Platzhalter und müssen in Ihrer \ext{tex}-Datei durch einen bestimmten Ausdruck ersetzt werden.
\end{attention}

Die Optionen dienen dazu, bestimmte Eigenschaften der Klasse genauer zu bestimmen. In unserem Beispiel wählen wir 12~pt als Größe der Schriftart des Fließtextes und A4 als Papierformat. Mehrere Optionen können angegeben und durch Kommas getrennt werden.\label{optionsclasse}

Hier einige verfügbare und für Geisteswissenschaften nützliche Optionen:

\begin{description}
\item[10pt] für eine Grundschriftart der Größe 10~pt.
\item[11pt] für eine Grundschriftart der Größe 11~pt.
\item[12pt] für eine Grundschriftart der Größe 12~pt.
\item[onecolumn] für einen einspaltig gesetzten Text. In den erwähnten Klassen ist das der Standard.
\item[twocolumn] für einen zweispaltig gesetzten Text.
\item[oneside] für einseitigen Druck. \label{nbsides}
\item[twoside] für doppelseitigen Druck.\footnote{Bei dieser und der vorherigen Option geht es im Wesentlichen um die Frage der Bindung. Die Option \option{twoside} erzeugt für Vorder- und Rückseiten jeweils unterschiedliche linke und rechte Ränder. Außerdem werden die Seitenzahlen abwechselnd innen und außen gedruckt.}\label{rectoverso}
\end{description}

Wir werden weitere Optionen nach und nach darstellen, nachdem die notwendigen Begriffe angesprochen wurden.

\subsection{Der Aufruf von Packages}

Betrachten wir die beiden folgenden Zeilen: 

\begin{latexcode*}{linenos,firstnumber=2}
\usepackage{fontspec}
\usepackage{polyglossia}
\end{latexcode*}

Es handelt sich, wie Sie erahnen können, um den Aufruf von Packages.\footnote{Wir haben uns bewusst entschlossen, diesen Begriff nicht zu übersetzen, um Verwechslungen vorzubeugen.} Ein Package ist eine Sammlung von Dateien, die -- einem Plugin bei Firefox vergleichbar -- weitere Funktionen zu \LaTeX hinzufügen. 

Das erste Package ist \package{fontspec}. Es ist hilfreich für fortschrittliche typographische Anwendungen, besonders um im erzeugten PDF Akzente [disposer] zu können.

Das Paket \package{fontspec} lädt automatisch \package{xunicode}, ohne dass Sie dies zusätzlich angeben müssen. Letzteres erlaubt es, unicode zu erzeugen, das auch UTF-8 genannt wird.\footnote{UTF-8 ist eigentlich nicht identisch mit Unicode, sondern stellt eine Implementierung dessen dar. Aus Gründen der Einfachheit, werden wir beide Begriffe jedoch synonym verwenden.} Daher können wir nicht-lateinische Zeichen\renvoi{utf8} in unserem \ext{tex}-Dokument verwenden.

\begin{plusloins}
Man findet im Internet häufig Hinweise, dass man zur Eingabe von \enquote{ö} den Code \verb|\"{o}| verwendet, wobei andere Sonderzeichen ähnlich eingegeben werden können. 

Dies galt früher, doch es ist bereits seit einiger Zeit nicht mehr hilfreich, diese Befehle zu lernen. Man kann Sonderzeichen ohne Bedenken \enquote{normal} eingeben. 
\end{plusloins}

Das zweite manuell geladene Package \package{polyglossia} ermöglicht, auf einfache Weise ein mehrsprachiges Dokument\renvoi{i18n} zu erzeugen, wobei die nötigen typographischen Anpassungen vorgenommen worden.

Diese drei Packages sind speziell für \XeLaTeX konzipiert: Sie funktionieren nicht mit \renvoi{TeXLaTeX} \LaTeX.

Manche Packages können mit Optionen geladen werden, die ihr Verhalten anpassen. Die Syntax lautet \csp{usepackage}\oarg{options}\marg{package}.

Im Lauf dieses Buchs werden wir verschiedene Packages [aborderons].


\begin{attention}
Im weiteren Verlauf des Buches gehen wir, wenn wir die Funktionen eines Packages beschreiben, davon aus, dass das entsprechende Package zuvor in der Präambel mit dem Befehl \csp{usepackage}\marg{package} geladen wurde.
\end{attention}

\begin{plusloins}
Wenn wir über ein Package sprechen, verweisen wir häufig auf sein Handbuch. Man kann das Handbuch eines Packages  leicht über das Terminal finden. Wie das genau funktioniert, erklären wir im Anhang \renvoi{manuels}.
\end{plusloins}

\subsection{Deutsch als Hauptsprache des Dokuments\label{french}}

Direkt danach bestimmt die Zeile \csp{setmainlanguage}\verb|{german}| Deutsch zur Hauptsprache des Dokuments und dass somit bei der Erstellung der Ausgabe die typographischen Gepflogenheiten der deutschen Sprache\renvoi{i18n} berücksichtigt werden sollen. Diese Zeile ist für den [[Compiler]] nur verständlich, wel wir bereits \package{polyglossia} geladen haben. 

\begin{plusloins}
Vielleicht werden Sie vom Paket \package{babel} hören. Es wird häufig anstelle von \package{polyglossia} verwendet, besonders da es älter ist. [[Toutefois]] haben wir uns entschlossen, uns auf \package{polyglossia} zu beschränken, da wir dieses für die Erstellungen unserer Arbeiten verwendet haben und weil es mehr Funktionen bietet, etwa für Sprachen, die nicht-lateinische Schriften verwenden.

Sie können Informationen über \package{babel} ohne Schwierigkeiten im Internet finden.
\end{plusloins}

\subsection{Der Dokumentenkörper}

Was wir bislang betrachtet haben, der Teil vor \cs{begin}\verb|{document}|, gehört zur sogenannten Präambel des Dokuments.\label{preambule} Diese Informationen erscheinen nicht im erzeugten Dokument. Es handelt sich um Metadaten, die bei dessen Erstellung berücksichtigt werden. Alle Packages, die sie verwenden möchten, müssen in der Präambel geladen werden.

Was sich zwischen den Linien  \cs{begin}\verb|{document}| und \cs{end}\verb|{document}| befindet, stellt den Körper des Dokuments dar, d.h. den eigentlichen Inhalt Ihrer Arbeit.

Enfin, rien de ce qui se trouve après \cs{end}\verb|{document}| n'est analysé par le compilateur. Vous pouvez donc y mettre ce que vous voulez, cependant nous ne vous le conseillons pas.

\subsection{Titel, Autor und Datum: Der Begriff des Befehls}\label{notioncommande}

\begin{latexcode*}{linenos,firstnumber=7}
\title{Un titre d'ouvrage}
\author{Le nom de son auteur}
\date{Une date}
\maketitle
\end{latexcode*}

Les trois premières de ces lignes définissent respectivement le titre (\csp{title}), l'auteur (\csp{author}) et la date (\csp{date}) du travail. En ce qui concerne cette dernière, ne pas l'indiquer revient à indiquer  celle du jour de la compilation, et il faut indiquer \cs{date}\verb|{}| pour qu'aucune date n'apparaisse.

La dernière ligne affiche ces informations. Si votre document est de classe  \classe{book}, alors le compilateur les dispose sur une page à part. S'il est de classe  \classe{article}, il les affiche sans provoquer de saut de page.

On peut déroger à cette règle en passant une option à l'appel de classe\renvoi{optionsclasse}.
\begin{description}
\item[notitlepage] pour ne pas avoir de page de titre spécifique.
\item[titlepage] pour avoir une page de titre spécifique.
\end{description}

Nous pouvons maintenant définir la notion de commande. Une commande  est un bout de code qui est interprété par le compilateur pour effectuer une suite d'opérations, c'est un raccourci d'écriture. 
Ici la commande \csp{maketitle} affiche les informations tel que le titre, la date et l'auteur du travail, informations que le compilateur a apprises grâce aux commandes utilisées au préalable.

Une commande peut prendre des arguments, certains facultatifs, d'autres obligatoires. Ces arguments  modifient son comportement.
\label{syntaxecommande}Une commande s'appelle avec la syntaxe : 
\csp{nom}\oarg{opt1}\oarg{…}\oarg{optn}\marg{obl1}\marg{…}\marg{obln}.

Entre crochets sont indiqués les arguments optionnels, entre accolades les arguments obligatoires. Ces arguments peuvent eux-mêmes contenir des commandes.


L'ordre des arguments dépend de chaque commande, et les arguments optionnels ne sont pas systématiquement avant les arguments obligatoires : ils peuvent être après ou s'intercaler entre. Notez que certaines commandes ne prennent pas d'argument : c'est le cas ici de \cs{maketitle}.

\begin{attention}
À chaque crochet ou accolade ouvert doit correspondre un crochet ou accolade fermé, faute de quoi vous risquez de provoquer une erreur de compilation.
\end{attention}

La grande force de \LaTeX est justement l'utilisation de commandes afin d'éviter la répétition des tâches fréquentes. C'est pourquoi nous apprendrons à définir nos propres commandes\renvoi{creercommandes}.



\subsection{Le corps du texte : la manière de rédiger}

\subsubsection{Analyse de notre exemple}
Regardez maintenant les lignes suivantes et leur résultat à la compilation.


\begin{latexcode*}{linenos,firstnumber=12}
Lorem ipsum dolor sit amet, consectetuer adipiscing elit ?
Morbi commodo ; ipsum sed pharetra gravida !
Nullam sit amet enim. Suspendisse id : velit vitae ligula.
Aliquam erat volutpat.
Sed quis velit. Nulla facilisi. Nulla libero. 

Quisque facilisis erat a dui.
Nam malesuada ornare dolor.
Cras gravida, diam sit amet rhoncus ornare, 
erat      elit consectetuer erat, id egestas pede nibh eget odio.
\end{latexcode*}


Nous pouvons constater plusieurs choses.
\begin{itemize}
\item Une ligne vide produit un changement de paragraphe. Plusieurs lignes vides produisent un seul changement de paragraphe.
\item Un retour à la ligne en revanche se comporte comme une espace\footnote{En matière de typographie, ce terme est féminin.}. C'est une grande différence avec les logiciels WYSIWYG, qui traduisent automatiquement un retour à la ligne  par un saut de paragraphe.
\item Plusieurs espaces à la suite produisent une seule espace. 
\end{itemize}

Vous connaissez donc les règles de bases de la rédaction d'un texte en \LaTeX.

\subsubsection{Allons plus loin}


Nous l'avons dit, \LaTeX produit une mise en page et une typographie plus correctes qu'un logiciel de type WYSIWYG. Il est cependant nécessaire de lui fournir un code correct, afin qu'il puisse déterminer comment typographier.

\LaTeX produit automatiquement  une espace fine devant les signes de ponctuation double,\verb|!:;?| principalement, comme il se doit en bonne typographie fran\c caise\footnote{Une espace fine est une espace plus petite qu'une espace normale.}. Toutefois, nous recommandons d'insérer des espaces dans le fichier \ext{tex} avant ces signes de ponctuation double, pour le confort de lecture.

\begin{attention}
Les espaces avant les signes de ponctuation double sont une spécificité de la typographie française. Il ne sont généralement pas présent dans les autres langues. C'est pourquoi, si vous écrivez dans une autre langue que celle de Molière, il ne faut pas mettre ces espaces. À vous donc de choisir si vous les mettez ou non dans votre fichier source, sachant que \LaTeX les insérera pour vous le cas échéant, mais ne les supprimera pas dans les langues autres que le français.
\end{attention}

En revanche \emph{il est obligatoire de mettre une espace après chaque signe de ponctuation}. Pour ce qui est des points de suspension, il est mieux de ne pas frapper trois points à la suite, mais d'utiliser la commande \csp{ldots} qui espacera correctement les points\footnote{Il est tout à fait possible de configurer l'éditeur de texte pour qu'il remplace automatiquement trois points à la suite par cette commande.}.

En ce qui concerne les guillemets, une partie sera consacrée plus tard à l'art et la manière de faire des citations\renvoi{guillemets} en \LaTeX. Nous n'en parlons donc pas maintenant.

Prêtons attention à certaines lettres ligaturées comme  \verb|œ| et  \verb|æ|. À la différence de la plupart des traitements de texte, \LaTeX ne remplace pas automatiquement les suites \verb|oe| et \verb|ae| par \verb|œ| ou \verb|æ|. Il faut donc frapper soi-même ces caractères, ou configurer son éditeur pour qu'il effectue ce remplacement.

Signalons également trois types de tirets\label{tirets} :
\begin{enumerate}
\item \verb|-| qui produit un tiret simple (-), utilisé pour les mots composés ;
\item \verb|--| qui produit un tiret demi-cadratin (--), en théorie à utiliser pour séparer une plage de nombres ;
\item \verb|---| qui produit un tiret cadratin (---), pour des incises\footnote{Certains éditeurs préfèrent utiliser des tirets demi-cadratins.}.
\end{enumerate}
 
Enfin, il est parfois utile d'insérer une espace insécable, pour éviter que deux mots se trouvent séparés par un retour à la ligne, par exemple entre un nom de souverain et son numéro de règne : \enquote{Jean~\textsc{xxiii}}.  L'espace insécable est produit par le caractère \verb|~|.



Par ailleurs, comme vous avez pu le constater, \LaTeX interprète de manière spécifique un certain nombre de caractères : \verb|\{}~|, à quoi nous ajoutons \verb|%_&$#^|\footnote{Nous ne verrons pas l'utilité \LaTeX  de tout ces caractères, certains servant essentiellement à rédiger des formules mathématiques.}.

Comment faire si nous désirons afficher un de ces caractères ? Il faut les faire précéder du caractère~\verb|\|. Ainsi pour insérer le caractère \verb|%|, il faut écrire \verb|\%|. 

Trois exceptions toutefois :
\begin{description}
\item[\textbackslash] qui s'insère avec la commande \csp{textbackslash} ;
\item[\textasciitilde] qui s'insère avec la commande \csp{textasciitilde} ; 
\item[\textasciicircum] qui s'insère avec la commande \csp{textasciicircum}. 
\end{description} 
\subsection{Un commentaire}

La ligne suivante est : 
\begin{latexcode*}{linenos,firstnumber=22}
%La fin du document
\end{latexcode*}

Il existe en \LaTeX une règle simple : tout ce qui se trouve à droite d'un signe \verb|%| est un commentaire.
C'est-à-dire qu'il n'est pas interprété par le compilateur et n'apparaît donc pas dans le document final. 

Nous conseillons de se servir des commentaires pour indiquer les grandes structures du document et pour commenter les commandes que vous créez vous-mêmes\renvoi{creercommandes}. 

Vous pouvez aussi vous en servir, par exemple, pour faire un commentaire à usage personnel ligne à ligne d'un texte que vous traduisez.

En revanche, nous vous déconseillons de l'utiliser pour des notes personnelles lors de la rédaction. Nous vous indiquerons plus loin comment définir une commande  personnalisée afin de générer un fichier qui les affiche, pour une relecture, et une autre qui les masque, pour le document final\renvoi{commentaireredac}.



\subsection{La notion d'environnement }

Nous avons vu jusqu'à maintenant les notions de  package, préambule, commande. 
Il nous reste à en définir une dernière  : celle d'environnement .

Un environnement  est une portion de document ayant une signification spécifique et qui par conséquent subit un traitement spécifique. Par exemple, pour indiquer une citation, une liste, etc. Nous découvrirons au fur et à mesure  des environnements. 


On marque le début d'un environnement  \arg{nom} par \csp{begin}\marg{nom} et on le termine \csp{end}\marg{nom}.




Dans la classe \classe{article} il existe un environnement utile : \enviro{abstract}. On place dans cet environnement un résumé de l'article :

\begin{latexcode}
\begin{abstract}
Hier schreiben wir eine Zusammenfassung des Artikels. 
\end{abstract}
\end{latexcode}


Il est possible d'imbriquer des environnements :

\begin{latexcode}
\begin{1}
blabla blab
\begin{2}
blabl blab
\end{2}
blabl
\end{1}
\end{latexcode}


En revanche il n'est pas possible de superposer des environnements : ainsi le code suivant ne fonctionne pas et produit une erreur lors de la compilation.


\begin{latexcode}
\begin{1}
blabla blab
\begin{2}
blabl blab
\end{1}
blabl
\end{2}
\end{latexcode}

\subsection{Schluss}

Sie haben nun bereits die grundlegenden Begriffe und Konzepte von \LaTeX kennengelernt. Für den Moment erscheint das sicherlich etwas verwirrend, aber im weiteren Verlauf Ihrer Lektüre werden Sie besser verstehen\ldots\footnote{Zumindest hoffen wir das!}

